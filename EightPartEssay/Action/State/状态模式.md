![](https://res.weread.qq.com/wrepub/epub_679952_65)
# 状态模式的定义
> 状态模式（State Pattern）又称为状态对象模式，该模式允许一个对象在其内部状态改变时改变其行为
意思是：当一个对象内在状态改变时允许改变行为，这个对象看起来像改变了其类型。状态模式的核心是封装，状态的变更引起行为的变动，从外部看来就好像该对象对应的类发生改变一样
# 状态模式的三个角色
- 抽象状态（State）角色：该角色用以封装环境对象的一个特定状态所对应的行为。
- 具体状态（Concrete State）角色：该角色实现环境的一个状态所对应的行为。
- 环境（Context）角色：该角色定义客户端需要的接口，并负责具体状态的切换。它会保留一个具体状态类的实例，该实例给出环境对象的现有状态。

# 优点
1. 结构清晰。
2. 遵循设计结构
3. 封装性非常好
# 缺点
1. 子类太多，不易管理
# 使用场景
- 对象的行为依赖于它所处的状态，即行为随状态改变而改变的场景。
- 对象在某个方法里依赖于一重或多重条件分支语句，此时可以使用状态模式将分支语句中的每一个分支都包装到一个单独的类中，使得这些条件分支语句能够以类的方式独立存在和演化。如此，维护这些独立的类就不再影响到系统的其他部分。